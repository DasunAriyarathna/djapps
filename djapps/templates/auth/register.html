
<html>
<head>
<title>User Registration Page</title>
<style type="text/css">
.HeadingCell
{
    font-weight:    bold;
    vertical-align: top;
    width:          200px;
    padding:    10px;
}

.ValueCell
{
    padding:    10px;
}

</style>

<script language=javascript>

String.prototype.trim = function() { return this.replace(/^\s+|\s+$/, ''); };
var EmailFilter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;


// 
// Validates the form
//
// Checks for empty fields,
// already taken usernames,
// email validity
//
function ValidateForm(form)
{
    form.username.value             = form.username.value.trim();
    form.email.value                = form.email.value.trim();
    form.first_name.value           = form.first_name.value.trim();
    form.last_name.value            = form.last_name.value.trim();
    // form.word_verification.value    = form.word_verification.value.trim();

    if (form.username.value.length == 0)
    {
        alert("Username cannot be empty.");
        form.username.focus();
        return false;
    }

    if (form.email.value.length == 0)
    {
        alert("Email cannot be empty.");
        form.email.focus();
        return false;
    }

    if ( ! EmailFilter.test(form.email.value))
    {
        alert("Email is invalid.");
        form.email.focus();
        return false;
    }

    if (form.password1.value.length == 0)
    {
        alert("Password cannot be empty.");
        form.password1.focus();
        return false;
    }

    if (form.password1.value != form.password2.value)
    {
        alert("Passwords do not match.");
        form.password2.focus();
        return false;
    }

    return true;
}

</script>
</head>
<body>
<center><h1>User Registration Page</center>
<form name = register_form method = "POST" action = "." onSubmit="return ValidateForm(this);">
<p>
<center>
<strong>Fields marked (*) are compulsory.</strong>
<table>
<tr>
<td class=HeadingCell> <label for="email">Email (*):</label> </td>
<td class=ValueCell><input name = email id = email type="text" value=""/></td>
</tr>
<tr>
<td class=HeadingCell> <label for="password1">Password (*):</label> </td>
<td class=ValueCell><input name = password1 id = password1 type="password" value=""/></td>
</tr>
<tr>
<td class=HeadingCell> <label for="password2">Repeat Password (*):</label> </td>
<td class=ValueCell><input name = password2 id = password2 type="password" value=""/></td>
</tr>
<tr>
<td class=HeadingCell> <label for="first_name">First Name:</label> </td>
<td class=ValueCell><input name = first_name id = first_name type="text" value=""/></td>
</tr>
<tr>
<td class=HeadingCell> <label for="last_name">Last Name:</label> </td>
<td class=ValueCell><input name = last_name id = last_name type="text" value=""/></td>
</tr>
<tr>
<td class=HeadingCell> <label for="terms_of_service">Terms of Service:</label></td>
<td class=ValueCell>Please check the account information you have entered above <br>
and review the Terms of service below.
<p>
<textarea readonly cols = 50 rows = 5 id = terms_of_service>
Need to put something legalish here.
</textarea>
<p>
By clicking on 'I Accept.  Register Me.', you are agreeing to the <br>
<a href="{{context.href_uri.termsofservice}}">Terms of Service</a> and both the <a
href={{context.href_uri.programpolicy}}>Program Policy</a> and the <a
href={{context.href_uri.privacypolicy}}>Privacy Policy</a>.
</td>
</tr>
<tr>
<td colspan = 2><center>
<input id = register type="submit" name = "submit_action" value="I Accept.  Register Me"/>
</center></td>
</tr>
</table>
</center>
</form>

</body>
</html>
